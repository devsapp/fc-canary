edition: 1.0.0 #  命令行YAML规范版本，遵循语义化版本（Semantic Versioning）规范
name: demo-app #  项目名称
access: 'mac0307' #  秘钥别名

vars:
  region: cn-hangzhou
  service: # service 配置原则上不能修改， 如果有改动，请和 fengchong/xiliu 对齐下
    name: demo-service
    logConfig: auto
    nasConfig: auto

services:
  dummy-function:
    component: devsapp/fc
    actions:
      post-deploy: # 在deploy之后运行
        - plugin: ${path(../../..)}
          args:
            service: dummy-service
            alias: stable
            linearStep:
              weight: 10
              interval: 2
    props:
      region: cn-hangzhou
      service:
        name: dummy-service
        logConfig: auto
        nasConfig: auto
      function:
        handler: index.handler
        instanceType: e1
        memorySize: 1024
        runtime: nodejs12
        timeout: 60
        name: dummy-function
        codeUri: .
      triggers:
        - name: httpTrigger
          type: http
          config:
            authType: anonymous
            methods:
              - GET
      customDomains:
        - domainName: auto
          protocol: HTTP
          routeConfigs:
            - path: '/*'
